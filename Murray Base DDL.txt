CREATE DATABASE MurrayDB
USE MurrayDB
GO

CREATE TABLE Logins
(
   	LID INT NOT NULL IDENTITY(3000,1) PRIMARY KEY,
   	UserName VARCHAR (50) NOT NULL,
   	PasswordHash VARCHAR (32) NOT NULL,
   	UserLevel INT,
);
CREATE TABLE SecurityQA
(
   	SecID INT NOT NULL IDENTITY(6000,1) PRIMARY KEY,
   	SecurityQ VARCHAR (300) NOT NULL,
   	SecurityA VARCHAR (30) NOT NULL,
);
CREATE TABLE Coaches
(
   	CID INT NOT NULL IDENTITY(100,1) PRIMARY KEY,
   	FName VARCHAR (20) NOT NULL,
   	LName VARCHAR (30) NOT NULL,
);
CREATE TABLE Sports
(
   	SID INT NOT NULL IDENTITY(5000,1) PRIMARY KEY,
   	SportName VARCHAR (20) NOT NULL,
   	SportLevel VARCHAR (20) NOT NULL,
	SportGender CHAR(10),
);
CREATE TABLE LogSec
(
	LID INT NOT NULL REFERENCES Logins(LID),
	SecID INT NOT NULL REFERENCES SecurityQA(SecID),
);
CREATE TABLE Users
(
   	UID INT NOT NULL IDENTITY(2000,1) PRIMARY KEY,
   	FName VARCHAR (20) NOT NULL,
   	LName VARCHAR (30) NOT NULL,
	Email VARCHAR(100),
	PhoneNumber VARCHAR(13),
	LID INT NOT NULL REFERENCES Logins(LID),
);
CREATE TABLE Players
(
   	PID INT NOT NULL IDENTITY(1000,1) PRIMARY KEY,
   	FName VARCHAR (20) NOT NULL,
   	LName VARCHAR (30) NOT NULL,
	Age INT,
	RosterImage IMAGE,
	UID INT NOT NULL REFERENCES Users(UID),
);
CREATE TABLE Teams
(
   	TID INT NOT NULL IDENTITY(4000,1) PRIMARY KEY,
   	TeamName VARCHAR (20) NOT NULL,
	TeamSize INT,
	SID INT NOT NULL REFERENCES Sports(SID),
);
CREATE TABLE PlayTeam
(
	PID INT NOT NULL REFERENCES Players(PID),
	TID INT NOT NULL REFERENCES Teams(TID),
);
CREATE TABLE CoachTeam
(
	TID INT NOT NULL REFERENCES Teams(TID),
	CID INT NOT NULL REFERENCES Coaches(CID),
);
